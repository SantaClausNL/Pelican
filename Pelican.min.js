const PelicanVersion="v2.5.2";window.addEventListener("load",()=>PelicanSetup());let c,ctx,width,height,PelicanReqAnimateID,mouse={x:0,y:0},mouseDown=!1,noUpdate=!1;function PelicanSetup(){console.log(`Pelican ${PelicanVersion} by SantaClausNL. https://www.santaclausnl.ga/`),"function"==typeof setup&&setup(),"function"==typeof update&&!0!==noUpdate&&PelicanUpdate(window.performance.now())}function init(a,b,d){defined(d)&&d.canvas!==void 0?(c=d.canvas,ctx=c.getContext("2d",{alpha:!1})):(c=document.createElement("CANVAS"),ctx=c.getContext("2d",{alpha:!1}),defined(d)&&d.parent!==void 0?d.parent.appendChild(c):document.documentElement.appendChild(c)),width=c.width=a,height=c.height=b,c.id="PelicanCanvas","function"==typeof keyPressed&&window.addEventListener("keydown",a=>{keyPressed(a)}),"function"==typeof keyReleased&&window.addEventListener("keyup",a=>{keyReleased(a)}),window.addEventListener("mousemove",a=>{mouse=getMousePos(a),"function"==typeof mouseMoved&&mouseMoved(a)}),window.addEventListener("mousedown",a=>{mouseDown=!0,"function"==typeof mousePressed&&mousePressed(a)}),window.addEventListener("mouseup",a=>{mouseDown=!1,"function"==typeof mouseReleased&&mouseReleased(a)})}function PelicanResize(a,b){width=c.width=a,height=c.height=b}function PelicanUpdate(a){const b=window.performance.now();update((b-a)/1e3),PelicanReqAnimateID=requestAnimationFrame(()=>PelicanUpdate(b))}function stopUpdate(){cancelAnimationFrame(PelicanReqAnimateID)}function clear(a){a===void 0?ctx.clearRect(0,0,width,height):(ctx.fillStyle=a,ctx.fillRect(0,0,width,height))}function rect(a,b,c,d,e,f){f===void 0?(ctx.fillStyle=e,ctx.fillRect(a,b,c,d)):(ctx.strokeStyle=e,ctx.lineWidth=f,ctx.strokeRect(a,b,c,d))}function roundedRect(a,b,c,d,e,f,g,h,i,j){ctx.beginPath(),ctx.moveTo(a+e,b),ctx.lineTo(a+c-f,b),ctx.quadraticCurveTo(a+c,b,a+c,b+f),ctx.lineTo(a+c,b+d-g),ctx.quadraticCurveTo(a+c,b+d,a+c-g,b+d),ctx.lineTo(a+h,b+d),ctx.quadraticCurveTo(a,b+d,a,b+d-h),ctx.lineTo(a,b+e),ctx.quadraticCurveTo(a,b,a+e,b),ctx.closePath(),j===void 0?(ctx.fillStyle=i,ctx.fill()):(ctx.strokeStyle=i,ctx.lineWidth=j,ctx.stroke())}function line(a,b,c,d,e,f){ctx.strokeStyle=f,ctx.lineWidth=e,ctx.beginPath(),ctx.moveTo(a,b),ctx.lineTo(c,d),ctx.closePath(),ctx.stroke()}function circle(a,b,c,d,e){ctx.beginPath(),ctx.arc(a,b,c,0,2*Math.PI,!0),ctx.closePath(),e===void 0?(ctx.fillStyle=d,ctx.fill()):(ctx.strokeStyle=d,ctx.lineWidth=e,ctx.stroke())}function text(a,b,c,d,e,f,g){ctx.fillStyle=d,void 0!==e&&(ctx.textAlign=e),void 0===g?void 0!==f&&(ctx.font=f+"px Sans-Serif"):ctx.font=f+"px "+g,ctx.fillText(c,a,b);const h=ctx.measureText(c).width;return void 0!==e&&(ctx.textAlign="start"),void 0!==f&&(ctx.font="10px Sans-Serif"),h}function img(a,b,c,d,e){ctx.save(),ctx.translate(b,c),e!==void 0&&ctx.scale(-1,1),ctx.rotate(d),ctx.drawImage(a,-a.width/2,-a.height/2),ctx.restore()}function Sprite(a){let b={},c=0,d=0;return b.draw=function(b,e,f,g){let h=a.width||a.spriteSheet.width,i=a.height||a.spriteSheet.height,j=a.sheetStart||0;(g?d:++d)>a.frameTime&&(d=0,c<a.frames-1?c+=1:c=0),ctx.save(),f?(ctx.translate(b-h/a.frames/2,e),ctx.scale(-1,1)):ctx.translate(b+h/a.frames/2,e),ctx.drawImage(a.spriteSheet,c*h/a.frames,j,h/a.frames,i,-h/a.frames,-i/2,h/a.frames,i),ctx.restore()},b}function loadImage(a,b){let c=new Image;return c.onload=()=>b,c.src=a,c}function defined(a){return a!==void 0}function map(a,b,c,d,e){return d+(e-d)*(a-b)/(c-b)}function random(a,b){return void 0===b?Math.random()*a:Math.random()*(b-a)+a}function randomInt(a,b){return floor(random(a,b))}function round(a){return Math.round(a)}function floor(a){return Math.floor(a)}function ceil(a){return Math.ceil(a)}function constrain(a,b,c){return a>c?c:a<b?b:a}function sigmoid(a){return 1/(1+Math.pow(Math.E,-a))}function dist(a,b,c,d){var e=Math.sqrt;return void 0===d?void 0===c?e((b.x-a.x)*(b.x-a.x)+(b.y-a.y)*(b.y-a.y)):e((c.x-a)*(c.x-a)+(c.y-b)*(c.y-b)):e((c-a)*(c-a)+(d-b)*(d-b))}function collision(a,b,c,d,e,f){var g=Math.abs;return 2*g(a.x+b/2-(d.x+e/2))<b+e&&2*g(a.y+c/2-(d.y+f/2))<c+f}function collide(a,b,c,d,e,f,g){const h=vec(a.x+b.x,a.y+b.y);if(collision(h,c,d,e,f,g))if(a.y+d>e.y&&a.y<e.y+g){if(0>b.x)return b.x=0,a.x-=a.x-(e.x+f),"left";if(0<b.x)return b.x=0,a.x+=e.x-(a.x+c),"right"}else if(a.x+c>e.x&&a.x<e.x+f){if(0>b.y)return b.y=0,a.y-=a.y-(e.y+g),"up";if(0<b.y)return b.y=0,a.y+=e.y-(a.y+d),"down"}}Array.prototype.swap=function(a,b){const c=this[a];this[a]=this[b],this[b]=c},Array.prototype.shuffle=function(){for(let a=this.length-1;0<=a;a--){const b=randomInt(a+1);this.swap(a,b)}};function lerp(a,b,c){return a+c*(b-a)}function rectCircleCollision(a,b,c,d,e,f,g){var h=Math.max,i=Math.min;let j=e-h(a,i(e,a+c)),k=f-h(b,i(f,b+d));return j*j+k*k<g*g}function getMousePos(a){const b=c.getBoundingClientRect(),d=document.documentElement;return vec(a.clientX-b.left-d.scrollLeft,a.clientY-b.top-d.scrollTop)}class Vector{constructor(a,b){this.x=a||0,this.y=b||0}set(a,b){a instanceof Vector?(this.x=a.x,this.y=a.y):(this.x=a,this.y=b)}add(a,b){a instanceof Vector?(this.x+=a.x,this.y+=a.y):(this.x+=a,this.y+=b)}sub(a,b){a instanceof Vector?(this.x-=a.x,this.y-=a.y):(this.x-=a,this.y-=b)}mult(a,b){b===void 0?a instanceof Vector?(this.x*=a.x,this.y*=a.y):(this.x*=a,this.y*=a):(this.x*=a,this.y*=b)}div(a,b){b===void 0?a instanceof Vector?(this.x/=a.x,this.y/=a.y):(this.x/=a,this.y/=a):(this.x/=a,this.y/=b)}equals(a){return this.x==a.x&&this.y==a.y}constrain(a,b,c,d){this.x=constrain(this.x,a,b),this.y=constrain(this.y,c,d)}degreesTo(a){return degrees(Math.atan2(a.y-this.y,a.x-this.x))}radiansTo(a){return Math.atan2(a.y-this.y,a.x-this.x)}fromAngle(a,b){var c=Math.sin,d=Math.cos;return a instanceof Vector&&(a=this.radiansTo(a)),vec(d(a)*(b||1)+this.x,c(a)*(b||1)+this.y)}collides(a,b,c,d){return this.x<a+c&&this.x>a&&this.y<b+d&&this.y>b}}function vec(a,b){return new Vector(a,b)}function fromAngle(a,b){return vec(Math.cos(a)*(b||1),Math.sin(a)*(b||1))}function radians(a){return a*Math.PI/180}function degrees(a){return 180*a/Math.PI}class Noise{constructor(a,b){this.vertices=256,this.amp=a||1,this.scl=b||.05,this.r=[];for(let c=0;c<this.vertices;c++)this.r.push(Math.random())}next(a){const b=a*this.scl,c=Math.floor(b),d=b-c,e=c&this.vertices-1,f=e+1&this.vertices-1;return lerp(this.r[e],this.r[f],d*d*(3-2*d))*this.amp}}